<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SubWatch</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f5f5f5;
  margin: 0;
}

/* å…±é€šãƒ¢ãƒ¼ãƒ€ãƒ« */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.box {
  background: white;
  width: 90%;
  max-width: 420px;
  padding: 20px;
  border-radius: 12px;
  text-align: center;
}

button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin-top: 15px;
}

button:disabled {
  background: #ccc;
}
</style>
</head>

<body>

<!-- äººé–“èªè¨¼ -->
<div id="humanCheck" class="modal">
  <div class="box">
    <h2>ğŸ” ç¢ºèª</h2>
    <p>ã‚ãªãŸã¯äººé–“ã§ã™ã‹ï¼Ÿ</p>

    <label>
      <input type="checkbox" id="humanBox">
      ç§ã¯äººé–“ã§ã™
    </label>

    <button id="humanBtn" disabled onclick="confirmHuman()">æ¬¡ã¸</button>
  </div>
</div>

<!-- åˆ©ç”¨è¦ç´„ -->
<div id="tos" class="modal" style="display:none">
  <div class="box" style="text-align:left; max-height:80vh; overflow:auto;">
    <h2>ğŸ“œ SubWatch åˆ©ç”¨è¦ç´„</h2>
    <p>ï¼ˆã“ã“ã«ã•ã£ãä½œã£ãŸåˆ©ç”¨è¦ç´„å…¨æ–‡ã‚’å…¥ã‚Œã¦OKï¼‰</p>
    <button onclick="agreeTos()">åŒæ„ã—ã¦é–‹å§‹</button>
  </div>
</div>

<script>
/* äººé–“ãƒã‚§ãƒƒã‚¯ */
const box = document.getElementById("humanBox");
const btn = document.getElementById("humanBtn");

box.addEventListener("change", () => {
  btn.disabled = !box.checked;
});

function confirmHuman() {
  localStorage.setItem("human", "yes");
  document.getElementById("humanCheck").style.display = "none";
  document.getElementById("tos").style.display = "flex";
}

/* è¦ç´„åŒæ„ */
function agreeTos() {
  localStorage.setItem("tosAccepted", "yes");
  document.getElementById("tos").style.display = "none";
}

/* èµ·å‹•æ™‚ãƒã‚§ãƒƒã‚¯ */
if (localStorage.getItem("human") === "yes") {
  document.getElementById("humanCheck").style.display = "none";
  if (localStorage.getItem("tosAccepted") !== "yes") {
    document.getElementById("tos").style.display = "flex";
  }
}
</script>

</body>
</html>
