<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SubWatch</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f5f5f5;
  margin: 0;
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«å…±é€š */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.box {
  background: white;
  width: 90%;
  max-width: 420px;
  padding: 20px;
  border-radius: 12px;
}

/* ãƒ¡ã‚¤ãƒ³ç”»é¢ */
#app {
  display: none;
  padding: 20px;
}
</style>
</head>

<body>

<!-- äººé–“èªè¨¼ -->
<div id="humanCheck" class="modal">
  <div class="box">
    <h2>ğŸ” ç¢ºèª</h2>
    <label>
      <input type="checkbox" id="humanBox"> ç§ã¯äººé–“ã§ã™
    </label>
    <button id="humanBtn" disabled>æ¬¡ã¸</button>
  </div>
</div>

<!-- åˆ©ç”¨è¦ç´„ -->
<div id="tos" class="modal" style="display:none">
  <div class="box">
    <h2>ğŸ“œ åˆ©ç”¨è¦ç´„</h2>
    <p>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯é–‹ç™ºä¸­ã§ã™ã€‚</p>
    <button onclick="agreeTos()">åŒæ„ã—ã¦é–‹å§‹</button>
  </div>
</div>

<!-- âœ… ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆã“ã‚ŒãŒé‡è¦ï¼‰ -->
<div id="app">
  <h1>SubWatch</h1>
  <p>ã‚ˆã†ã“ãï¼</p>
</div>

<script>
const humanBox = document.getElementById("humanBox");
const humanBtn = document.getElementById("humanBtn");

humanBox.addEventListener("change", () => {
  humanBtn.disabled = !humanBox.checked;
});

humanBtn.onclick = () => {
  localStorage.setItem("human", "yes");
  document.getElementById("humanCheck").style.display = "none";
  document.getElementById("tos").style.display = "flex";
};

function agreeTos() {
  localStorage.setItem("tosAccepted", "yes");
  document.getElementById("tos").style.display = "none";
  document.getElementById("app").style.display = "block"; // â† ã“ã‚ŒãŒè¶…é‡è¦
}

/* èµ·å‹•æ™‚ */
if (localStorage.getItem("human") === "yes") {
  document.getElementById("humanCheck").style.display = "none";
  if (localStorage.getItem("tosAccepted") === "yes") {
    document.getElementById("app").style.display = "block";
  } else {
    document.getElementById("tos").style.display = "flex";
  }
}
</script>

</body>
</html>
