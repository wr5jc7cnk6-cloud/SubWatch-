<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SubWatchLite</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 20px;
}
.card {
  background: #fff;
  border-radius: 16px;
  padding: 20px;
  max-width: 420px;
  margin: auto;
}
input, button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-size: 16px;
}
button {
  border: none;
  border-radius: 8px;
  background: #e0e0e0;
}
.warning {
  color: #d97706;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="card">
  <h1>SubWatchLite</h1>

  <input id="name" placeholder="サブスク名">
  <input id="price" type="number" placeholder="月額料金">
  <button onclick="add()">追加</button>

  <p id="warning" class="warning" style="display:none;">
    ⚠ 月額5万円を超えています
  </p>

  <ul id="list"></ul>
  <h3 id="total">合計（月額）：¥0</h3>
</div>

<script>
function add() {
  const name = document.getElementById("name").value;
  const price = Number(document.getElementById("price").value);
  if (!name || !price) return;

  const data = JSON.parse(localStorage.getItem("liteSubs") || "[]");
  data.push({ name, price });
  localStorage.setItem("liteSubs", JSON.stringify(data));

  document.getElementById("name").value = "";
  document.getElementById("price").value = "";
  render();
}

function render() {
  const data = JSON.parse(localStorage.getItem("liteSubs") || "[]");
  const list = document.getElementById("list");
  list.innerHTML = "";

  let total = 0;
  data.forEach(s => {
    total += s.price;
    const li = document.createElement("li");
    li.textContent = `${s.name}：¥${s.price}`;
    list.appendChild(li);
  });

  document.getElementById("total").textContent =
    `合計（月額）：¥${total}`;

  document.getElementById("warning").style.display =
    total > 50000 ? "block" : "none";
}

render();
</script>

</body>
</html>
