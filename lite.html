<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>SubWatch2 Lite</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background:#f5f5f7;
  margin:0;
  padding:20px;
}
h1 { text-align:center; }
input {
  width:100%;
  padding:12px;
  margin-bottom:10px;
  font-size:16px;
}
button {
  width:100%;
  padding:14px;
  margin-top:8px;
  font-size:16px;
  border:none;
  border-radius:10px;
}
.add { background:#007aff; color:white; }
.reset { background:#ff3b30; color:white; }
.item {
  background:white;
  padding:12px;
  border-radius:10px;
  margin-top:10px;
  display:flex;
  justify-content:space-between;
}
.total {
  font-size:20px;
  font-weight:bold;
  margin-top:20px;
  text-align:center;
}
</style>
</head>
<body>

<h1>SubWatch2 Lite</h1>

<input id="name" placeholder="サブスク名" />
<input id="price" type="number" placeholder="値段（円）" />

<button class="add" onclick="add()">追加</button>

<div id="list"></div>

<div class="total" id="total">合計: ¥0</div>

<button class="reset" onclick="resetAll()">すべて初期化</button>

<script>
let data = JSON.parse(localStorage.getItem("lite")) || [];

function save() {
  localStorage.setItem("lite", JSON.stringify(data));
}

function add() {
  const name = name.value;
  const price = Number(price.value);
  if (!name || !price) return;
  data.push({ name, price });
  save();
  render();
}

function remove(i) {
  data.splice(i,1);
  save();
  render();
}

function resetAll() {
  if (!confirm("全削除しますか？")) return;
  data = [];
  save();
  render();
}

function render() {
  list.innerHTML = "";
  let sum = 0;
  data.forEach((d,i)=>{
    sum += d.price;
    list.innerHTML += `
      <div class="item">
        <span>${d.name} ¥${d.price}</span>
        <button onclick="remove(${i})">削除</button>
      </div>`;
  });
  total.textContent = "合計: ¥" + sum;
}
render();
</script>

</body>
</html>
