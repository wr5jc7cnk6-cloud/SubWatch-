<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SubWatch2</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f5f5f7;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .version {
      text-align: center;
      color: #888;
      margin-bottom: 15px;
    }
    .notice {
      background: #000;
      color: #fff;
      padding: 12px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 15px;
    }
    input {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin-bottom: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    button {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      border: none;
      border-radius: 12px;
      margin-top: 10px;
      cursor: pointer;
    }
    .add {
      background: #007aff;
      color: white;
    }
    .reset {
      background: #ff3b30;
      color: white;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }
    li {
      background: white;
      padding: 12px;
      border-radius: 12px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .total {
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      margin-top: 20px;
    }
    .btns button {
      margin-left: 5px;
      font-size: 14px;
    }
  </style>
</head>

<body>

  <h1>SubWatch2</h1>
  <div class="version">Version 1.13</div>

  <div class="notice">
    ğŸ”” ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™<br>
    å‰Šé™¤ãƒ»ç·¨é›†ãƒ»åˆæœŸåŒ–ãƒ»é‡‘é¡ç®¡ç†ã‚’è¿½åŠ ã—ã¾ã—ãŸ
  </div>

  <input id="nameInput" placeholder="å†…å®¹ã‚’å…¥åŠ›">
  <input id="priceInput" type="number" placeholder="å€¤æ®µï¼ˆÂ¥ï¼‰">

  <button class="add" onclick="addItem()">è¿½åŠ </button>
  <button class="reset" onclick="resetAll()">ã™ã¹ã¦åˆæœŸåŒ–</button>

  <ul id="list"></ul>

  <div class="total">
    åˆè¨ˆï¼šÂ¥<span id="total">0</span>
  </div>

<script>
  let items = [];
  let total = 0;

  function render() {
    const list = document.getElementById("list");
    list.innerHTML = "";
    total = 0;

    items.forEach((item, index) => {
      total += item.price;

      const li = document.createElement("li");
      li.innerHTML = `
        <span>${item.name} Â¥${item.price}</span>
        <div class="btns">
          <button onclick="editItem(${index})">ç·¨é›†</button>
          <button onclick="deleteItem(${index})">å‰Šé™¤</button>
        </div>
      `;
      list.appendChild(li);
    });

    document.getElementById("total").innerText =
      total.toLocaleString();
  }

  function addItem() {
    const name = document.getElementById("nameInput").value;
    const price = Number(document.getElementById("priceInput").value);

    if (!name || !price) return;

    items.push({ name, price });
    document.getElementById("nameInput").value = "";
    document.getElementById("priceInput").value = "";
    render();
  }

  function deleteItem(index) {
    items.splice(index, 1);
    render();
  }

  function editItem(index) {
    const newName = prompt("å†…å®¹ã‚’ç·¨é›†", items[index].name);
    const newPrice = prompt("å€¤æ®µã‚’ç·¨é›†", items[index].price);

    if (newName && newPrice) {
      items[index] = {
        name: newName,
        price: Number(newPrice)
      };
      render();
    }
  }

  function resetAll() {
    if (!confirm("æœ¬å½“ã«ã™ã¹ã¦åˆæœŸåŒ–ã—ã¾ã™ã‹ï¼Ÿ")) return;
    items = [];
    render();
  }
</script>

</body>
</html>
