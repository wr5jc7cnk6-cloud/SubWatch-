<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SubWatch è³¼å…¥</title>

<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card{
  background:#f5f5f7;
  color:black;
  width:320px;
  border-radius:26px;
  padding:20px;
  box-sizing:border-box;
}

.button{
  margin-top:18px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#007aff;
  color:white;
  font-size:16px;
}

.sub{
  color:gray;
  font-size:13px;
}

#unlockBox{
  display:none;
  margin-top:14px;
}

input{
  width:100%;
  padding:10px;
  font-size:16px;
  border-radius:10px;
  border:1px solid #ccc;
  margin-top:8px;
}

/* Face ID */
#face{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}

.face{
  width:90px;
  height:90px;
  border:4px solid #0a84ff;
  border-radius:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:38px;
  animation:pulse 1.2s infinite;
}

@keyframes pulse{
  0%{opacity:.4}
  50%{opacity:1}
  100%{opacity:.4}
}
</style>
</head>

<body>

<div class="card" id="shop">
  <strong>SubWatch Pro</strong><br>
  <span class="sub">ã‚¢ãƒ—ãƒªå†…èª²é‡‘</span>

  <div style="margin-top:12px;font-size:18px;">Â¥300</div>

  <button class="button" onclick="buy()">è³¼å…¥</button>

  <div id="banNotice" class="sub" style="margin-top:10px;display:none;">
    âš ï¸ ç¾åœ¨ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™
  </div>

  <button class="button" id="showUnlock" style="display:none;background:#d1d1d6;color:black;" onclick="toggleUnlock()">
    è§£é™¤ã¯ã“ã¡ã‚‰
  </button>

  <!-- ğŸ”“ è§£é™¤ç•ªå·ï¼ˆåˆæœŸéè¡¨ç¤ºï¼‰ -->
  <div id="unlockBox">
    <input id="unlockInput" placeholder="è§£é™¤ç•ªå·ã‚’å…¥åŠ›">
    <button class="button" onclick="unlock()">è§£é™¤</button>
  </div>
</div>

<!-- Face ID -->
<div id="face">
  <div class="face">ğŸ˜Š</div>
  <div style="margin-top:12px">Face IDã§è³¼å…¥</div>
</div>

<script>
/* ===== çŠ¶æ…‹ ===== */
const ADMIN_UNLOCK = "123456"; // è§£é™¤ç•ªå·
let isBan = localStorage.getItem("ban") === "true";
let isPro = localStorage.getItem("pro") === "true";

/* ===== åˆæœŸè¡¨ç¤º ===== */
if(isPro){
  document.body.innerHTML = "<h1>âœ… Proç‰ˆãŒæœ‰åŠ¹ã§ã™</h1>";
}

if(isBan){
  document.getElementById("banNotice").style.display = "block";
  document.getElementById("showUnlock").style.display = "block";
}

/* ===== è³¼å…¥å‡¦ç† ===== */
function buy(){
  if(isBan){
    alert("âŒ BANä¸­ã®ãŸã‚è³¼å…¥ã§ãã¾ã›ã‚“");
    return;
  }

  document.getElementById("face").style.display="flex";

  setTimeout(()=>{
    playSound();
    localStorage.setItem("pro","true");
    document.getElementById("face").style.display="none";
    alert("ğŸ‰ è³¼å…¥å®Œäº†");
    location.reload();
  },2000);
}

/* ===== è§£é™¤æ¬„è¡¨ç¤º ===== */
function toggleUnlock(){
  document.getElementById("unlockBox").style.display="block";
}

/* ===== è§£é™¤å‡¦ç† ===== */
function unlock(){
  const v = document.getElementById("unlockInput").value;
  if(v === ADMIN_UNLOCK){
    localStorage.setItem("ban","false");
    alert("âœ… BANè§£é™¤ã•ã‚Œã¾ã—ãŸ");
    location.reload();
  }else{
    alert("âŒ è§£é™¤ç•ªå·ãŒé•ã„ã¾ã™");
  }
}

/* ===== è³¼å…¥éŸ³ ===== */
function playSound(){
  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const o=ctx.createOscillator();
  const g=ctx.createGain();
  o.frequency.value=1000;
  o.connect(g);
  g.connect(ctx.destination);
  g.gain.setValueAtTime(.4,ctx.currentTime);
  g.gain.exponentialRampToValueAtTime(.001,ctx.currentTime+.4);
  o.start();
  o.stop(ctx.currentTime+.4);
}
</script>

</body>
</html>
